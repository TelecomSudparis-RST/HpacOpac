
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module HpacOpacLib.OpenStackConnection</title>
<meta charset="utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="HpacOpacLib.html"><font color="#ffffff">HpacOpacLib</font></a>.OpenStackConnection</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/rsm/Documents/DVD2C/Algorithm/Ver1.3/bin/HpacOpacLib/OpenStackConnection.py">/home/rsm/Documents/DVD2C/Algorithm/Ver1.3/bin/HpacOpacLib/OpenStackConnection.py</a></font></td></tr></table>
    <p><tt>Module&nbsp;to&nbsp;interact&nbsp;with&nbsp;the&nbsp;Nova,&nbsp;Ceilometer&nbsp;and&nbsp;Keystone&nbsp;API<br>
=====================================================================<br>
&nbsp;<br>
&gt;&nbsp;Ignacio&nbsp;Tamayo,&nbsp;TSP,&nbsp;2016<br>
&gt;&nbsp;Version&nbsp;1.3<br>
&gt;&nbsp;Date:&nbsp;August&nbsp;2016<br>
&nbsp;<br>
..&nbsp;warning:&nbsp;This&nbsp;uses&nbsp;Keystone&nbsp;API&nbsp;v2.0,&nbsp;Endpoints&nbsp;should&nbsp;use&nbsp;this&nbsp;API&nbsp;Version<br>
&nbsp;<br>
..&nbsp;note::&nbsp;This&nbsp;module&nbsp;does&nbsp;not&nbsp;interact&nbsp;directly&nbsp;with&nbsp;the&nbsp;DB,&nbsp;the&nbsp;Optimizer&nbsp;module&nbsp;does<br>
&nbsp;<br>
&nbsp;<br>
:Example:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OsConn&nbsp;=&nbsp;OpenStackConnection()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OsConn.setURL(&nbsp;url,&nbsp;region)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;OsConn.connect():<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;OsConn.connectMetrics():<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lims&nbsp;=&nbsp;OsConn.getLimits()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;met&nbsp;=&nbsp;OsConn.getMetrics()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OsConn.disconnect()</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="ceilometerclient.client.html">ceilometerclient.client</a><br>
<a href="HpacOpacLib.Messages.html">HpacOpacLib.Messages</a><br>
</td><td width="25%" valign=top><a href="novaclient.client.html">novaclient.client</a><br>
<a href="HpacOpacLib.SettingsFile.html">HpacOpacLib.SettingsFile</a><br>
</td><td width="25%" valign=top><a href="logging.html">logging</a><br>
<a href="keystoneclient.session.html">keystoneclient.session</a><br>
</td><td width="25%" valign=top><a href="keystoneclient.auth.identity.v2.html">keystoneclient.auth.identity.v2</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="__builtin__.html#object">__builtin__.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="HpacOpacLib.OpenStackConnection.html#APIConnection">APIConnection</a>
</font></dt><dt><font face="helvetica, arial"><a href="HpacOpacLib.OpenStackConnection.html#Limits">Limits</a>
</font></dt><dt><font face="helvetica, arial"><a href="HpacOpacLib.OpenStackConnection.html#Meter">Meter</a>
</font></dt><dt><font face="helvetica, arial"><a href="HpacOpacLib.OpenStackConnection.html#Stats">Stats</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="APIConnection">class <strong>APIConnection</strong></a>(<a href="__builtin__.html#object">__builtin__.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>This&nbsp;class&nbsp;represents&nbsp;the&nbsp;connection&nbsp;with&nbsp;the&nbsp;Nova&nbsp;API,&nbsp;passing&nbsp;by&nbsp;authentication&nbsp;with&nbsp;KeyStone<br>
The&nbsp;values&nbsp;provided&nbsp;in&nbsp;<a href="#APIConnection-setURL">setURL</a>()&nbsp;and&nbsp;<a href="#APIConnection-setCredentials">setCredentials</a>()&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;ones&nbsp;used&nbsp;for&nbsp;CLI&nbsp;client<br>
Internally,&nbsp;the&nbsp;client&nbsp;will&nbsp;get&nbsp;the&nbsp;Nova&nbsp;API&nbsp;endpoint&nbsp;from&nbsp;Keystone,&nbsp;so&nbsp;make&nbsp;sure&nbsp;the&nbsp;Endpoints&nbsp;in&nbsp;Keystone&nbsp;are&nbsp;correct&nbsp;and&nbsp;reachable<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="APIConnection-__init__"><strong>__init__</strong></a>(self)</dt><dd><tt>Starts&nbsp;with&nbsp;no&nbsp;connections,&nbsp;with&nbsp;no&nbsp;credentials&nbsp;to&nbsp;connect&nbsp;with.&nbsp;Empty&nbsp;start</tt></dd></dl>

<dl><dt><a name="APIConnection-connect"><strong>connect</strong></a>(self)</dt><dd><tt>Connects&nbsp;to&nbsp;the&nbsp;Nova&nbsp;API&nbsp;Server&nbsp;after&nbsp;authenticating&nbsp;with&nbsp;Keystone<br>
&nbsp;<br>
Execute&nbsp;after&nbsp;<a href="#APIConnection-setURL">setURL</a>()&nbsp;and&nbsp;<a href="#APIConnection-setCredentials">setCredentials</a>()<br>
&nbsp;<br>
:returns:&nbsp;True&nbsp;if&nbsp;the&nbsp;connection&nbsp;went&nbsp;OK,&nbsp;False&nbsp;if&nbsp;errors</tt></dd></dl>

<dl><dt><a name="APIConnection-connectMetrics"><strong>connectMetrics</strong></a>(self)</dt><dd><tt>Connects&nbsp;to&nbsp;the&nbsp;Ceilometer&nbsp;API&nbsp;Server&nbsp;after&nbsp;authenticating&nbsp;with&nbsp;Keystone<br>
&nbsp;<br>
Execute&nbsp;after&nbsp;<a href="#APIConnection-connect">connect</a>()<br>
&nbsp;<br>
Could&nbsp;return&nbsp;False&nbsp;in&nbsp;case&nbsp;of&nbsp;error..&nbsp;for&nbsp;now&nbsp;errors&nbsp;are&nbsp;detected&nbsp;though&nbsp;Exceptions<br>
&nbsp;<br>
:returns:&nbsp;True&nbsp;if&nbsp;the&nbsp;connection&nbsp;went&nbsp;OK,&nbsp;False&nbsp;if&nbsp;errors</tt></dd></dl>

<dl><dt><a name="APIConnection-disconnect"><strong>disconnect</strong></a>(self)</dt><dd><tt>Disconnects&nbsp;from&nbsp;the&nbsp;Nova,&nbsp;Ceilometer&nbsp;and&nbsp;Keystone&nbsp;API&nbsp;Server</tt></dd></dl>

<dl><dt><a name="APIConnection-getHypervisors"><strong>getHypervisors</strong></a>(self)</dt><dd><tt>Gets&nbsp;a&nbsp;list&nbsp;of&nbsp;hypervisors</tt></dd></dl>

<dl><dt><a name="APIConnection-getLimits"><strong>getLimits</strong></a>(self)</dt><dd><tt>Gets&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;absolute&nbsp;limiting&nbsp;values&nbsp;for&nbsp;the&nbsp;connected&nbsp;tenant&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;nova&nbsp;quota-show<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;nova&nbsp;quota-defaults<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:returns:&nbsp;&nbsp;an&nbsp;<a href="#Limits">Limits</a>&nbsp;<a href="__builtin__.html#object">object</a>&nbsp;with&nbsp;the&nbsp;limits<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:rtype:&nbsp;<a href="#Limits">Limits</a>&nbsp;class</tt></dd></dl>

<dl><dt><a name="APIConnection-getMetrics"><strong>getMetrics</strong></a>(self, durationHours)</dt><dd><tt>Gets&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;absolute&nbsp;limiting&nbsp;values&nbsp;for&nbsp;the&nbsp;connected&nbsp;tenant&nbsp;<br>
&nbsp;<br>
:param&nbsp;durationHours:&nbsp;are&nbsp;the&nbsp;period&nbsp;to&nbsp;measure;&nbsp;in&nbsp;hours<br>
:type&nbsp;durationHours:&nbsp;int&nbsp;<br>
:returns:&nbsp;&nbsp;an&nbsp;<a href="#Meter">Meter</a>&nbsp;<a href="__builtin__.html#object">object</a>&nbsp;with&nbsp;the&nbsp;metrics<br>
:rtype:&nbsp;<a href="#Meter">Meter</a>&nbsp;class<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;CLI&nbsp;equivalent:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;ceilometer&nbsp;&nbsp;statistics&nbsp;-m&nbsp;vcpus&nbsp;-q&nbsp;'timestamp&gt;2016-06-14T00:00:00'&nbsp;-p&nbsp;600<br>
&nbsp;<br>
Collects&nbsp;many&nbsp;samples,&nbsp;with&nbsp;the&nbsp;SUM&nbsp;of&nbsp;the&nbsp;values&nbsp;for&nbsp;each&nbsp;tenant.&nbsp;So&nbsp;te&nbsp;SUM&nbsp;of&nbsp;all&nbsp;disk/mem/cpu/net&nbsp;used&nbsp;every&nbsp;10mins(600&nbsp;secs,&nbsp;default&nbsp;sample&nbsp;rate)<br>
If&nbsp;the&nbsp;Sample&nbsp;Rate&nbsp;of&nbsp;Ceilometer&nbsp;is&nbsp;different;&nbsp;change&nbsp;the&nbsp;period.&nbsp;If&nbsp;there&nbsp;is&nbsp;different&nbsp;Sample&nbsp;Rate&nbsp;for&nbsp;each&nbsp;meter,&nbsp;change&nbsp;this&nbsp;function<br>
&nbsp;<br>
The&nbsp;logic&nbsp;is&nbsp;that&nbsp;every&nbsp;sampling&nbsp;(600&nbsp;secs)&nbsp;we&nbsp;sum&nbsp;all&nbsp;the&nbsp;samples,&nbsp;grouped&nbsp;by&nbsp;Tenant.&nbsp;So&nbsp;if&nbsp;a&nbsp;Tenant&nbsp;has&nbsp;3&nbsp;VMs,&nbsp;each&nbsp;of&nbsp;512&nbsp;MB&nbsp;Ram;&nbsp;we&nbsp;would<br>
have&nbsp;a&nbsp;sample&nbsp;of&nbsp;1512&nbsp;MB&nbsp;or&nbsp;RAM&nbsp;representative&nbsp;of&nbsp;what&nbsp;the&nbsp;client&nbsp;was&nbsp;using&nbsp;in&nbsp;that&nbsp;period&nbsp;of&nbsp;time<br>
&nbsp;<br>
Then&nbsp;we&nbsp;collect&nbsp;this&nbsp;aggregated&nbsp;samples&nbsp;and&nbsp;to&nbsp;MIN/MAX/AVG&nbsp;on&nbsp;the&nbsp;aggregated<br>
&nbsp;<br>
This&nbsp;&nbsp;logic&nbsp;is&nbsp;not&nbsp;done&nbsp;by&nbsp;the&nbsp;Statistics&nbsp;alone,&nbsp;as&nbsp;it&nbsp;aggregates&nbsp;the&nbsp;MIN/MAX&nbsp;over&nbsp;the&nbsp;total&nbsp;Samples.&nbsp;So&nbsp;the&nbsp;Tenant&nbsp;with&nbsp;3&nbsp;VMs&nbsp;of&nbsp;265,512,512&nbsp;MB&nbsp;Ram<br>
will&nbsp;show&nbsp;MIN=256,&nbsp;MAX=512&nbsp;on&nbsp;each&nbsp;sample;&nbsp;which&nbsp;is&nbsp;not&nbsp;the&nbsp;intended&nbsp;data<br>
&nbsp;<br>
Then&nbsp;all&nbsp;this&nbsp;data&nbsp;is&nbsp;put&nbsp;in&nbsp;a&nbsp;list&nbsp;and&nbsp;we&nbsp;get&nbsp;the&nbsp;MIN/MAX/AVG<br>
&nbsp;<br>
'%Y-%m-%dT%H:%M:%S'&nbsp;is&nbsp;the&nbsp;Format&nbsp;of&nbsp;the&nbsp;DB&nbsp;result,&nbsp;please&nbsp;check&nbsp;this&nbsp;is&nbsp;coherent&nbsp;in&nbsp;all&nbsp;Ceiling&nbsp;Servers<br>
&nbsp;<br>
The&nbsp;minimum&nbsp;timeStamp&nbsp;of&nbsp;all&nbsp;the&nbsp;Meters&nbsp;is&nbsp;considered&nbsp;as&nbsp;the&nbsp;timestamp&nbsp;of&nbsp;the&nbsp;complete&nbsp;metric.&nbsp;So&nbsp;the&nbsp;metric&nbsp;is&nbsp;as&nbsp;recent&nbsp;as&nbsp;its&nbsp;oldest&nbsp;individual&nbsp;meter<br>
&nbsp;<br>
..&nbsp;note::&nbsp;It&nbsp;might&nbsp;get&nbsp;old&nbsp;data&nbsp;because&nbsp;it&nbsp;keeps&nbsp;history&nbsp;of&nbsp;killled/dead&nbsp;instances.&nbsp;This&nbsp;is&nbsp;how&nbsp;Ceiling&nbsp;works</tt></dd></dl>

<dl><dt><a name="APIConnection-getPublicFlavors"><strong>getPublicFlavors</strong></a>(self)</dt><dd><tt>Gets&nbsp;a&nbsp;list&nbsp;of&nbsp;flavors,&nbsp;only&nbsp;those&nbsp;marked&nbsp;as&nbsp;public</tt></dd></dl>

<dl><dt><a name="APIConnection-setCredentials"><strong>setCredentials</strong></a>(self, tenant, user, passwd)</dt><dd><tt>:param&nbsp;tenant:&nbsp;url&nbsp;is&nbsp;the&nbsp;Admin&nbsp;tenant<br>
:type&nbsp;tenant:&nbsp;String<br>
:param&nbsp;user:&nbsp;url&nbsp;is&nbsp;the&nbsp;Admin&nbsp;user<br>
:type&nbsp;user:&nbsp;String<br>
:param&nbsp;passwd:&nbsp;url&nbsp;is&nbsp;the&nbsp;Admin&nbsp;pass<br>
:type&nbsp;passwd:&nbsp;String<br>
&nbsp;<br>
Same&nbsp;as&nbsp;the&nbsp;credentials&nbsp;file&nbsp;used&nbsp;in&nbsp;CLI</tt></dd></dl>

<dl><dt><a name="APIConnection-setURL"><strong>setURL</strong></a>(self, url, region<font color="#909090">=None</font>)</dt><dd><tt>:param&nbsp;url:&nbsp;url&nbsp;is&nbsp;the&nbsp;KeyStone&nbsp;Auth<br>
:type&nbsp;url:&nbsp;String<br>
:param&nbsp;region:&nbsp;Region&nbsp;of&nbsp;the&nbsp;OpenStack&nbsp;services&nbsp;to&nbsp;use.&nbsp;Defaults&nbsp;to&nbsp;None<br>
:type&nbsp;region:&nbsp;String<br>
&nbsp;<br>
Same&nbsp;as&nbsp;the&nbsp;credentials&nbsp;file&nbsp;used&nbsp;in&nbsp;CLI<br>
&nbsp;<br>
..&nbsp;note::&nbsp;Make&nbsp;sure&nbsp;that&nbsp;the&nbsp;Nova&nbsp;API&nbsp;URL&nbsp;given&nbsp;in&nbsp;the&nbsp;Keysonte&nbsp;reply&nbsp;is&nbsp;reachable&nbsp;from&nbsp;this&nbsp;host.&nbsp;Do&nbsp;"nova&nbsp;--debug&nbsp;list"&nbsp;to&nbsp;verify&nbsp;where&nbsp;Keystone&nbsp;send&nbsp;the&nbsp;Api&nbsp;Call</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>CIEL_VERSION</strong> = '2'</dl>

<dl><dt><strong>NOVA_VERSION</strong> = '2'</dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Limits">class <strong>Limits</strong></a>(<a href="__builtin__.html#object">__builtin__.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Class&nbsp;representing&nbsp;the&nbsp;absolute&nbsp;values&nbsp;that&nbsp;a&nbsp;Tenant&nbsp;has&nbsp;in&nbsp;a&nbsp;Nova&nbsp;Api.&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid&nbsp;using&nbsp;the&nbsp;awful&nbsp;OpenStack&nbsp;AbsoluteLimit&nbsp;class<br>
&nbsp;<br>
&gt;&nbsp;nova&nbsp;quota-show<br>
&gt;&nbsp;nova&nbsp;quota-default<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Limits-__init__"><strong>__init__</strong></a>(self, curCPU<font color="#909090">=0</font>, maxCPU<font color="#909090">=0</font>, curRAM<font color="#909090">=0</font>, maxRAM<font color="#909090">=0</font>, curInstances<font color="#909090">=0</font>, maxInstances<font color="#909090">=0</font>)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Meter">class <strong>Meter</strong></a>(<a href="__builtin__.html#object">__builtin__.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Class&nbsp;representing&nbsp;the&nbsp;metrics&nbsp;values&nbsp;that&nbsp;a&nbsp;Tenant&nbsp;has&nbsp;in&nbsp;a&nbsp;Ceilometer&nbsp;Api.&nbsp;<br>
This&nbsp;is&nbsp;to&nbsp;avoid&nbsp;using&nbsp;the&nbsp;awful&nbsp;OpenStack&nbsp;<a href="#Meter">Meter</a>&nbsp;class<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;ceilometer&nbsp;meter-list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;ceilometer&nbsp;statistics&nbsp;-m&nbsp;&lt;meter&gt;<br>
&nbsp;<br>
Inside&nbsp;the&nbsp;class;&nbsp;there&nbsp;is&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;the&nbsp;<a href="#Stats">Stats</a>&nbsp;to&nbsp;pull&nbsp;from&nbsp;Ceilometer,&nbsp;and&nbsp;the&nbsp;sampletime&nbsp;attribute&nbsp;(when&nbsp;this&nbsp;metric&nbsp;was&nbsp;taken;&nbsp;in&nbsp;OpenStack&nbsp;time)<br>
&nbsp;<br>
Also,&nbsp;this&nbsp;<a href="__builtin__.html#object">object</a>&nbsp;transforms&nbsp;in&nbsp;a&nbsp;dictionary&nbsp;that&nbsp;is&nbsp;compatible&nbsp;with&nbsp;the&nbsp;Metrics&nbsp;model&nbsp;<a href="__builtin__.html#object">object</a><br>
&nbsp;<br>
..&nbsp;seealso::&nbsp;OpacModel.py<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Meter-__init__"><strong>__init__</strong></a>(self)</dt><dd><tt>Starts&nbsp;an&nbsp;empty&nbsp;dictionary&nbsp;of&nbsp;<a href="#Stats">Stats</a>&nbsp;objects,&nbsp;for&nbsp;the&nbsp;desired&nbsp;Meters&nbsp;from&nbsp;OpenStack<br>
The&nbsp;Dictionary'keys&nbsp;are&nbsp;the&nbsp;text&nbsp;name&nbsp;of&nbsp;the&nbsp;meters&nbsp;in&nbsp;OpenStack<br>
&nbsp;<br>
Also,&nbsp;in&nbsp;a&nbsp;String,&nbsp;the&nbsp;timestamp&nbsp;of&nbsp;the&nbsp;metric&nbsp;is&nbsp;kept.&nbsp;<br>
It&nbsp;is&nbsp;STRING&nbsp;as&nbsp;to&nbsp;keep&nbsp;the&nbsp;original&nbsp;Ceilometer&nbsp;value&nbsp;and&nbsp;not&nbsp;to&nbsp;mess&nbsp;with&nbsp;it&nbsp;(no&nbsp;calculations&nbsp;are&nbsp;expected&nbsp;with&nbsp;this&nbsp;value)<br>
&nbsp;<br>
..&nbsp;seealso::&nbsp;<a href="#Stats">Stats</a></tt></dd></dl>

<dl><dt><a name="Meter-todict"><strong>todict</strong></a>(self)</dt><dd><tt>Converts&nbsp;this&nbsp;<a href="__builtin__.html#object">object</a>&nbsp;into&nbsp;a&nbsp;dictionary&nbsp;compatible&nbsp;with&nbsp;the&nbsp;DB,&nbsp;table&nbsp;Metrics<br>
&nbsp;<br>
..&nbsp;seealso:&nbsp;OpacModels.py<br>
&nbsp;<br>
This&nbsp;separation&nbsp;DB&nbsp;-&nbsp;Ojects&nbsp;-&nbsp;API&nbsp;is&nbsp;to&nbsp;be&nbsp;flexible&nbsp;on&nbsp;what&nbsp;we&nbsp;take&nbsp;from&nbsp;Ceilometer&nbsp;API,&nbsp;what&nbsp;is&nbsp;stored&nbsp;and&nbsp;how</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Stats">class <strong>Stats</strong></a>(<a href="__builtin__.html#object">__builtin__.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Class&nbsp;that&nbsp;wraps&nbsp;a&nbsp;statistical&nbsp;metric<br>
&nbsp;<br>
Each&nbsp;metric&nbsp;item&nbsp;is&nbsp;composed&nbsp;of&nbsp;3&nbsp;values&nbsp;taken&nbsp;from&nbsp;OpenStack&nbsp;Ceilometer&nbsp;(min,max,avg)&nbsp;and&nbsp;the&nbsp;units&nbsp;in&nbsp;which&nbsp;it&nbsp;is&nbsp;measured&nbsp;(unit)<br>
&nbsp;<br>
The&nbsp;<a href="#Stats">Stats</a>&nbsp;objects&nbsp;holds&nbsp;this&nbsp;values&nbsp;in&nbsp;a&nbsp;single&nbsp;<a href="__builtin__.html#object">object</a>;&nbsp;with&nbsp;properties&nbsp;.unit&nbsp;._min,&nbsp;._max,&nbsp;._avg<br>
The&nbsp;*_*&nbsp;is&nbsp;used&nbsp;to&nbsp;avoid&nbsp;confussions&nbsp;with&nbsp;the&nbsp;methods&nbsp;min()&nbsp;max()<br>
&nbsp;<br>
..&nbsp;seealso::&nbsp;MinMaxAvg<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Stats-__init__"><strong>__init__</strong></a>(self, max<font color="#909090">=0</font>, min<font color="#909090">=0</font>, avg<font color="#909090">=0</font>, unit<font color="#909090">=''</font>)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-MinMaxAvg"><strong>MinMaxAvg</strong></a>(data)</dt><dd><tt>Given&nbsp;a&nbsp;list&nbsp;of&nbsp;values,&nbsp;the&nbsp;MIN/MAX/AVG&nbsp;value&nbsp;is&nbsp;returned&nbsp;in&nbsp;a&nbsp;Dictionary<br>
&nbsp;<br>
:param&nbsp;data:&nbsp;List&nbsp;of&nbsp;data&nbsp;of&nbsp;the&nbsp;same&nbsp;kind<br>
:type&nbsp;data:&nbsp;int[]&nbsp;or&nbsp;float[]<br>
&nbsp;<br>
:returns:&nbsp;a&nbsp;dictionary&nbsp;{&nbsp;'min':min,'max':max,'avg':average&nbsp;}<br>
:rtype:&nbsp;dictionary<br>
&nbsp;<br>
..&nbsp;seealso::&nbsp;<a href="#Stats">Stats</a></tt></dd></dl>
 <dl><dt><a name="-readSettingsFile"><strong>readSettingsFile</strong></a>()</dt><dd><tt>This&nbsp;function&nbsp;takes&nbsp;an&nbsp;INI&nbsp;file&nbsp;parser&nbsp;<a href="__builtin__.html#object">object</a>,&nbsp;that&nbsp;must&nbsp;have&nbsp;read&nbsp;the&nbsp;INI&nbsp;file,&nbsp;and&nbsp;starts&nbsp;looking&nbsp;for&nbsp;the&nbsp;options&nbsp;in&nbsp;the&nbsp;sections&nbsp;and&nbsp;variables&nbsp;that&nbsp;are&nbsp;of&nbsp;interest&nbsp;for&nbsp;this&nbsp;module.<br>
&nbsp;<br>
If&nbsp;the&nbsp;options&nbsp;are&nbsp;not&nbsp;present&nbsp;in&nbsp;the&nbsp;INI&nbsp;file,&nbsp;the&nbsp;default&nbsp;values&nbsp;are&nbsp;kept<br>
&nbsp;<br>
This&nbsp;is&nbsp;so&nbsp;that&nbsp;we&nbsp;add&nbsp;or&nbsp;remove&nbsp;options&nbsp;from&nbsp;the&nbsp;INI&nbsp;file&nbsp;just&nbsp;by&nbsp;mofiying&nbsp;this&nbsp;functions.&nbsp;Also,&nbsp;the&nbsp;same&nbsp;INI&nbsp;entry&nbsp;can&nbsp;be&nbsp;read&nbsp;by&nbsp;many&nbsp;modules<br>
&nbsp;<br>
..&nbsp;note::&nbsp;Make&nbsp;sure&nbsp;to&nbsp;pass&nbsp;a&nbsp;valid&nbsp;ConfigParser&nbsp;<a href="__builtin__.html#object">object</a><br>
&nbsp;<br>
:param&nbsp;SettingsParser:&nbsp;A&nbsp;SettingsParser&nbsp;<a href="__builtin__.html#object">object</a>&nbsp;that&nbsp;starts&nbsp;from&nbsp;SettingsFile.py<br>
:type&nbsp;SettingsParser:&nbsp;SettingsParser</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>CEILOMETER_PERIOD</strong> = 600<br>
<strong>INI_Section</strong> = 'openstack'<br>
<strong>TIMEOUT</strong> = 5<br>
<strong>logger</strong> = &lt;logging.Logger object&gt;</td></tr></table>
</body></html>